<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="initial-scale=1.0" />
    <title>Geolocationサンプル</title>
    <script>
      window.addEventListener("load", function(){
        var result = document.getElementById("result");
         
        if (!navigator.geolocation){
          result.innerHTML = "Geolocation 使用不可";
          return;
        }
         
        var option = {
          timeout : 10000
        }
        navigator.geolocation.watchPosition(resultHandler, faultHandler, option);
         
        function resultHandler(position){
          var latitude = position.coords.latitude;
          var longitude = position.coords.longitude;
          result.innerHTML = "緯度："+latitude+"<br>" + 
            "経度："+longitude;
        }
         
        function faultHandler(error){
          result.innerHTML = error.code;
        }
      }, true);
    </script>
  </head>
  <body>
    <div id="result"></div>
  </body>
</html>
